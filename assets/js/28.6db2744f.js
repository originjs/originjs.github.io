(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{300:function(t,e,a){"use strict";a.r(e);var r=a(14),v=Object(r.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"vue-codemod"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#vue-codemod"}},[t._v("#")]),t._v(" vue-codemod")]),t._v(" "),e("blockquote",[e("p",[t._v("⚠️ 注意: 该仓库 fork 自 "),e("a",{attrs:{href:"https://github.com/vuejs/vue-codemod",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/vuejs/vue-codemod"),e("OutboundLink")],1)])]),t._v(" "),e("p",[e("code",[t._v("vue-codemod")]),t._v(" 是一个 "),e("code",[t._v("Vue2")]),t._v(" 升级 "),e("code",[t._v("Vue3")]),t._v(" 的语法转换工具，能将绝大多数 "),e("code",[t._v("Vue2")]),t._v(" 语法直接升级成 "),e("code",[t._v("Vue3")]),t._v(" 语法，然后通过少量的手动修改完成 "),e("code",[t._v("Vue2")]),t._v(" 到 "),e("code",[t._v("Vue3")]),t._v(" 的平滑迁移。")]),t._v(" "),e("h2",{attrs:{id:"转化率"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#转化率"}},[t._v("#")]),t._v(" 转化率")]),t._v(" "),e("blockquote",[e("p",[t._v("转换率 = 自动修改 / (需手动修改 + 自动修改)")]),t._v(" "),e("p",[e("strong",[t._v("需手动修改")]),t._v(" 为工具识别到的手动修改数")]),t._v(" "),e("p",[e("strong",[t._v("自动修改数")]),t._v(" 为工具识别并自动处理的数量")])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"center"}},[t._v("序号")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("项目")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("需手动修改")]),t._v(" "),e("th",[t._v("自动修改")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("转换率")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("1")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("a",{attrs:{href:"https://github.com/wdlhao/vue2-element-touzi-admin",target:"_blank",rel:"noopener noreferrer"}},[t._v("vue2-element-touzi-admin"),e("OutboundLink")],1)]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("8")]),t._v(" "),e("td",[t._v("63")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("88.73%")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("2")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("a",{attrs:{href:"https://github.com/a241978181/vue-web-os",target:"_blank",rel:"noopener noreferrer"}},[t._v("vue-web-os"),e("OutboundLink")],1)]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("19")]),t._v(" "),e("td",[t._v("19")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("50.00%")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("3")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("a",{attrs:{href:"https://github.com/Arlisol/amKnow",target:"_blank",rel:"noopener noreferrer"}},[t._v("amKnow"),e("OutboundLink")],1)]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("10")]),t._v(" "),e("td",[t._v("30")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("75.00%")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("4")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("a",{attrs:{href:"https://github.com/Ashyoo/vue-template",target:"_blank",rel:"noopener noreferrer"}},[t._v("vue-template"),e("OutboundLink")],1)]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("61")]),t._v(" "),e("td",[t._v("28")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("31.46%")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("5")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("a",{attrs:{href:"https://github.com/coreui/coreui-free-vue-admin-template",target:"_blank",rel:"noopener noreferrer"}},[t._v("coreui-free-vue-admin-template"),e("OutboundLink")],1)]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("4")]),t._v(" "),e("td",[t._v("63")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("94.03%")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("6")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("a",{attrs:{href:"https://github.com/bailichen/vue-weixin",target:"_blank",rel:"noopener noreferrer"}},[t._v("vue-weixin"),e("OutboundLink")],1)]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("1")]),t._v(" "),e("td",[t._v("54")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("98.19%")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("7")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("a",{attrs:{href:"https://github.com/zhaohaodang/vue-WeChat",target:"_blank",rel:"noopener noreferrer"}},[t._v("vue-WeChat"),e("OutboundLink")],1)]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("9")]),t._v(" "),e("td",[t._v("35")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("79.55%")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("8")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("a",{attrs:{href:"https://github.com/suweiteng/vue2-management-platform",target:"_blank",rel:"noopener noreferrer"}},[t._v("vue2-management-platform"),e("OutboundLink")],1)]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("2")]),t._v(" "),e("td",[t._v("11")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("84.62%")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("9")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("a",{attrs:{href:"https://github.com/sl1673495/vue-netease-music",target:"_blank",rel:"noopener noreferrer"}},[t._v("vue-netease-music"),e("OutboundLink")],1)]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("18")]),t._v(" "),e("td",[t._v("37")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("67.27%")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("10")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("a",{attrs:{href:"https://github.com/PowerDos/Mall-Vue",target:"_blank",rel:"noopener noreferrer"}},[t._v("Mall-Vue"),e("OutboundLink")],1)]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("2")]),t._v(" "),e("td",[t._v("26")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("92.86%")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("11")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("a",{attrs:{href:"https://github.com/lavyun/vue-demo-kugou",target:"_blank",rel:"noopener noreferrer"}},[t._v("vue-demo-kugou"),e("OutboundLink")],1)]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("4")]),t._v(" "),e("td",[t._v("13")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("76.47%")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("12")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("a",{attrs:{href:"https://github.com/2kjiejie/codemod-demo/tree/master",target:"_blank",rel:"noopener noreferrer"}},[t._v("codemod-demo（codemod演示项目）"),e("OutboundLink")],1)]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("0")]),t._v(" "),e("td",[t._v("24")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("100%")])])])]),t._v(" "),e("h2",{attrs:{id:"使用指引"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用指引"}},[t._v("#")]),t._v(" 使用指引")]),t._v(" "),e("h3",{attrs:{id:"安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[t._v("#")]),t._v(" 安装")]),t._v(" "),e("blockquote",[e("p",[t._v("正式版本发布时更推荐使用 "),e("code",[t._v("npm/yarn")]),t._v(" 方式，如果你更想尝鲜，可以使用 "),e("code",[t._v("clone")]),t._v(" 本地安装方式")])]),t._v(" "),e("h4",{attrs:{id:"npm-yarn-方式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#npm-yarn-方式"}},[t._v("#")]),t._v(" "),e("code",[t._v("npm/yarn")]),t._v(" 方式")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" @originjs/vue-codemod "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-g")]),t._v("\n//or\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" global "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" @originjs/vue-codemod\n")])])]),e("h4",{attrs:{id:"clone-安装方式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#clone-安装方式"}},[t._v("#")]),t._v(" "),e("code",[t._v("clone")]),t._v(" 安装方式")]),t._v(" "),e("ol",[e("li",[t._v("从 "),e("code",[t._v("github clone")]),t._v(" 代码")])]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone https://github.com/originjs/vue-codemod\n")])])]),e("ol",{attrs:{start:"2"}},[e("li",[t._v("安装依赖")])]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" vue-codemod\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v("\n//or\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v("\n")])])]),e("ol",{attrs:{start:"3"}},[e("li",[t._v("全局安装")])]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" run build\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(".")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-g")]),t._v("\n//or\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" run build\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" global "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(".")]),t._v("\n")])])]),e("h3",{attrs:{id:"在项目中使用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#在项目中使用"}},[t._v("#")]),t._v(" 在项目中使用")]),t._v(" "),e("p",[e("code",[t._v("vue-codemod")]),t._v(" 是由一条一条的转换规则组成，这些转换规则位于 "),e("code",[t._v("transformation/index.ts")]),t._v(" 和 "),e("code",[t._v("vue-transformation/index.ts")]),t._v(" 下。")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("npx vue-codemod "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("path"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" -t/-a "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("transformation params"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".additional options"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),e("ol",[e("li",[e("code",[t._v("<path>")]),t._v(" 表示执行的路径，可以是文件和文件夹")]),t._v(" "),e("li",[e("code",[t._v("-t")]),t._v(" 表示具体的规则，使用 "),e("code",[t._v("-t")]),t._v(" 时 "),e("code",[t._v("transformation param")]),t._v(" 不可省略，"),e("code",[t._v("-a")]),t._v(" 表示所有规则")])]),t._v(" "),e("h4",{attrs:{id:"执行所有规则"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#执行所有规则"}},[t._v("#")]),t._v(" 执行所有规则")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("npx vue-codemod src "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-a")]),t._v("\n")])])]),e("p",[e("code",[t._v("src")]),t._v(" 指定的是扫描的文件路径，"),e("code",[t._v("-a")]),t._v(" 表示执行所有的规则转换。")]),t._v(" "),e("h4",{attrs:{id:"执行单条规则"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#执行单条规则"}},[t._v("#")]),t._v(" 执行单条规则")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("npx vue-codemod src "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-t")]),t._v(" new-global-api\n")])])]),e("p",[e("code",[t._v("src")]),t._v(" 指定的是扫描的文件路径，"),e("code",[t._v("-t new-global-api")]),t._v(" 表示只执行 "),e("code",[t._v("new-global-api")]),t._v(" 这条规则。")]),t._v(" "),e("p",[t._v("详细的规则列表请 "),e("a",{attrs:{href:"#%E8%A7%84%E5%88%99%E6%B8%85%E5%8D%95"}},[t._v("点击此处")]),t._v("。")]),t._v(" "),e("h4",{attrs:{id:"规定输出格式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#规定输出格式"}},[t._v("#")]),t._v(" 规定输出格式")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("npx vue-codemod src "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-a")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-f")]),t._v(" log\n")])])]),e("p",[e("code",[t._v("-f")]),t._v(" 命令用于规定统计输出格式，可选参数为为 "),e("code",[t._v("table")]),t._v("、"),e("code",[t._v("detail")]),t._v(" 、"),e("code",[t._v("log")]),t._v("，在没有指定参数的情况下默认为 "),e("code",[t._v("table")]),t._v("。")]),t._v(" "),e("p",[t._v("选择 "),e("code",[t._v("table")]),t._v(" 时则会以表格的形式输出修改的规则，选择 "),e("code",[t._v("detail")]),t._v(" 时会以对象形式输出具体修改的文件与规则，而选择 "),e("code",[t._v("log")]),t._v(" 则会将统计报告以 log 文件的形式输出。")]),t._v(" "),e("p",[t._v("以下是"),e("code",[t._v("-f table")]),t._v("的输出样例：")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("╔═══════════════════════════════╤═══════╗\n║ Rule Names                    │ Count ║\n╟───────────────────────────────┼───────╢\n║ new-component-api             │   "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("   ║\n║ new-global-api                │   "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("   ║\n║ vue-router-v4                 │   "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("   ║\n║ vuex-v4                       │   "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("   ║\n║ new-directive-api             │   "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("   ║\n║ remove-vue-set-and-delete     │   "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("   ║\n║ rename-lifecycle              │   "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("   ║\n║ add-emit-declarations         │   "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("   ║\n║ tree-shaking                  │   "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("   ║\n║ slot-attribute                │   "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("   ║\n║ slot-default                  │   "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("   ║\n║ slot-scope-attribute          │   "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("   ║\n║ v-for-template-key            │   "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("   ║\n║ v-else-if-key                 │   "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("   ║\n║ transition-group-root         │   "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("   ║\n║ v-for-v-if-precedence-changed │   "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("   ║\n║ remove-listeners              │   "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("   ║\n║ remove-v-on-native            │   "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("   ║\n╚═══════════════════════════════╧═══════╝\n")])])]),e("h4",{attrs:{id:"手动迁移指导"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#手动迁移指导"}},[t._v("#")]),t._v(" 手动迁移指导")]),t._v(" "),e("p",[t._v("在"),e("code",[t._v("vue-codemod")]),t._v("的运行过程中，会识别到需要手动修改的部分，并以对象的形式打印到控制台（如果有"),e("code",[t._v("-f log")]),t._v("命令，则会输出到 log 文件中），样例如下：")]),t._v(" "),e("div",{staticClass:"language-null extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("The list that you need to migrate your codes mannually:\nindex: 1\n{\n  path: 'src/main.js',\n  position: '[33,0]',\n  name: 'remove Vue(global api)',\n  suggest: \"The rule of thumb is any APIs that globally mutate Vue's behavior are now moved to the app instance.\",\n  website: 'https://v3.vuejs.org/guide/migration/global-api.html#a-new-global-api-createapp'\n}\n")])])]),e("h4",{attrs:{id:"帮助"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#帮助"}},[t._v("#")]),t._v(" 帮助")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("npx vue-codemod "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--help")]),t._v("\n")])])]),e("p",[t._v("结果如下所示：")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("npx vue-codemod "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--help")]),t._v("\nUsage: vue-codemod "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("file pattern"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\nOptions:\n  -t, "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--transformation")]),t._v("        Name or path of the transformation module "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("string"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  -p, "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--params")]),t._v("                Custom params to the transformation\n  -a, "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--runAllTransformation")]),t._v("  run all transformation module            "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("boolean"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  -f, "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--reportFormatter")]),t._v("       Specify an output report formatter\n                                                    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("string"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("default: "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"detail"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  -h, "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--help")]),t._v("                  Show "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("help")]),t._v("                                "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("boolean"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  -v, "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--version")]),t._v("               Show version number                      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("boolean"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\nExamples:\n  npx vue-codemod ./src "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-a")]),t._v("                  Run all rules to convert all\n                                            relevant files "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" the ./src folder\n  npx vue-codemod                           Run slot-attribute rule to convert\n  ./src/components/HelloWorld.vue "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-t")]),t._v("        HelloWorld.vue\n  slot-attribute\n")])])]),e("h3",{attrs:{id:"迁移步骤"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#迁移步骤"}},[t._v("#")]),t._v(" 迁移步骤")]),t._v(" "),e("ol",[e("li",[t._v("运行 "),e("code",[t._v("vue-codemod")]),t._v(" 的 "),e("code",[t._v("-a")]),t._v(" 命令: "),e("code",[t._v("npx vue-codemod <path> -a")])]),t._v(" "),e("li",[t._v("手动迁移 "),e("code",[t._v("vue-codemod")]),t._v(" 没有覆盖到的特殊场景， 请参考 "),e("RouterLink",{attrs:{to:"/guide/tools/vue-codemod/docs/zh/manual-guide.html"}},[t._v("手动迁移指南")]),t._v(".")],1),t._v(" "),e("li",[t._v("确保使用 "),e("a",{attrs:{href:"https://github.com/vuejs/vue-next/tree/master/packages/vue-compat",target:"_blank",rel:"noopener noreferrer"}},[t._v("@vue/compat"),e("OutboundLink")],1),t._v(" 兼容包运行")]),t._v(" "),e("li",[t._v("在开发模式下启动项目，修复运行时告警")])]),t._v(" "),e("blockquote",[e("p",[t._v("注意: 尽管大部分的迁移过程可以通过工具自动实现，但是 Vue3 和 Vue2 仍然有一些运行时的差异，并且有一些边缘场景 vue-codemod 也没有覆盖到。因此在部署生产环境之前，务必仔细检查迁移的正确性。")])]),t._v(" "),e("h3",{attrs:{id:"典型迁移案例"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#典型迁移案例"}},[t._v("#")]),t._v(" 典型迁移案例")]),t._v(" "),e("p",[t._v("我们 fork 了 "),e("a",{attrs:{href:"https://github.com/wdlhao/vue2-element-touzi-admin",target:"_blank",rel:"noopener noreferrer"}},[t._v("vue2-element-touzi-admin"),e("OutboundLink")],1),t._v("，并尝试使用 "),e("code",[t._v("vue-codemod")]),t._v(" 将该项目从 Vue2 升级到 Vue 3，我们记录了升级过程中的每一步操作，如果您感兴趣，请参考"),e("RouterLink",{attrs:{to:"/guide/tools/vue-codemod/docs/zh/typical-case.html"}},[t._v("典型迁移案例")]),t._v("。")],1),t._v(" "),e("h2",{attrs:{id:"规则清单"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#规则清单"}},[t._v("#")]),t._v(" 规则清单")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("规则名称")]),t._v(" "),e("th",[t._v("描述或链接")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("new-component-api")]),t._v(" "),e("td",[t._v("https://v3.vuejs.org/guide/migration/global-api.html#a-new-global-api-createapp")])]),t._v(" "),e("tr",[e("td",[t._v("vue-class-component-v8")]),t._v(" "),e("td",[t._v("https://github.com/vuejs/vue-class-component/issues/406")])]),t._v(" "),e("tr",[e("td",[t._v("new-global-api")]),t._v(" "),e("td",[t._v("https://v3.vuejs.org/guide/migration/global-api.html#a-new-global-api-createapp")])]),t._v(" "),e("tr",[e("td",[t._v("vue-router-v4")]),t._v(" "),e("td",[t._v("https://next.router.vuejs.org/guide/migration/index.html#new-router-becomes-createrouter"),e("br"),t._v("https://next.router.vuejs.org/guide/migration/index.html#new-history-option-to-replace-mode"),e("br"),t._v("https://next.router.vuejs.org/guide/migration/index.html#replaced-onready-with-isready")])]),t._v(" "),e("tr",[e("td",[t._v("vuex-v4")]),t._v(" "),e("td",[t._v("new Store (...) => createStore (...)")])]),t._v(" "),e("tr",[e("td",[t._v("define-component")]),t._v(" "),e("td",[t._v("Vue.extend (...) => defineComponent (...)")])]),t._v(" "),e("tr",[e("td",[t._v("new-vue-to-create-app")]),t._v(" "),e("td",[t._v("https://v3.vuejs.org/guide/migration/global-api.html#a-new-global-api-createapp")])]),t._v(" "),e("tr",[e("td",[t._v("scoped-slots-to-slots")]),t._v(" "),e("td",[t._v("https://v3.vuejs.org/guide/migration/slots-unification.html#overview")])]),t._v(" "),e("tr",[e("td",[t._v("new-directive-api")]),t._v(" "),e("td",[t._v("https://v3.vuejs.org/guide/migration/custom-directives.html#overview")])]),t._v(" "),e("tr",[e("td",[t._v("remove-vue-set-and-delete")]),t._v(" "),e("td",[t._v("https://v3.vuejs.org/guide/migration/introduction.html#removed-apis")])]),t._v(" "),e("tr",[e("td",[t._v("rename-lifecycle")]),t._v(" "),e("td",[t._v("https://v3.vuejs.org/guide/migration/introduction.html#other-minor-changes")])]),t._v(" "),e("tr",[e("td",[t._v("add-emit-declaration")]),t._v(" "),e("td",[t._v("https://v3.vuejs.org/guide/migration/emits-option.html#overview")])]),t._v(" "),e("tr",[e("td",[t._v("tree-shaking")]),t._v(" "),e("td",[t._v("https://v3.vuejs.org/guide/migration/global-api-treeshaking.html")])]),t._v(" "),e("tr",[e("td",[t._v("v-model")]),t._v(" "),e("td",[t._v("https://v3.vuejs.org/guide/migration/v-model.html#overview")])]),t._v(" "),e("tr",[e("td",[t._v("render-to-resolveComponent")]),t._v(" "),e("td",[t._v("https://v3.vuejs.org/guide/migration/render-function-api.html#registered-component")])]),t._v(" "),e("tr",[e("td",[t._v("remove-contextual-h-from-render")]),t._v(" "),e("td",[t._v("https://v3.vuejs.org/guide/migration/render-function-api.html#render-function-argument")])]),t._v(" "),e("tr",[e("td",[t._v("remove-production-tip")]),t._v(" "),e("td",[t._v("https://v3.vuejs.org/guide/migration/global-api.html#a-new-global-api-createapp")])]),t._v(" "),e("tr",[e("td",[t._v("remove-trivial-root")]),t._v(" "),e("td",[t._v("createApp ({ render: () => h (App) })  =>  createApp (App)")])]),t._v(" "),e("tr",[e("td",[t._v("vue-as-namespace-import")]),t._v(" "),e("td",[t._v('import Vue from "vue"  => import * as Vue from "vue"')])]),t._v(" "),e("tr",[e("td",[t._v("slot-attribute")]),t._v(" "),e("td",[t._v("https://vuejs.org/v2/guide/components-slots.html#Deprecated-Syntax")])]),t._v(" "),e("tr",[e("td",[t._v("slot-default")]),t._v(" "),e("td",[t._v("If  component tag did not contain a "),e("code",[t._v("<slot>")]),t._v(" element, any content provided between its opening and closing tag would be discarded.")])]),t._v(" "),e("tr",[e("td",[t._v("slot-scope-attribute")]),t._v(" "),e("td",[t._v("https://vuejs.org/v2/guide/components-slots.html#Scoped-Slots-with-the-slot-scope-Attribute")])]),t._v(" "),e("tr",[e("td",[t._v("v-for-template-key")]),t._v(" "),e("td",[t._v("https://v3.vuejs.org/guide/migration/key-attribute.html#overview")])]),t._v(" "),e("tr",[e("td",[t._v("v-else-if-key")]),t._v(" "),e("td",[t._v("https://v3.vuejs.org/guide/migration/key-attribute.html#overview")])]),t._v(" "),e("tr",[e("td",[t._v("transition-group-root")]),t._v(" "),e("td",[t._v("https://v3.vuejs.org/guide/migration/transition-group.html#overview")])]),t._v(" "),e("tr",[e("td",[t._v("v-bind-order-sensitive")]),t._v(" "),e("td",[t._v("https://v3.vuejs.org/guide/migration/v-bind.html#overview")])]),t._v(" "),e("tr",[e("td",[t._v("v-for-v-if-precedence-changed")]),t._v(" "),e("td",[t._v("https://v3.vuejs.org/guide/migration/v-if-v-for.html#overview")])]),t._v(" "),e("tr",[e("td",[t._v("remove-listeners")]),t._v(" "),e("td",[t._v("https://v3.vuejs.org/guide/migration/listeners-removed.html#overview")])]),t._v(" "),e("tr",[e("td",[t._v("v-bind-sync")]),t._v(" "),e("td",[t._v("https://v3.vuejs.org/guide/migration/v-model.html#overview")])]),t._v(" "),e("tr",[e("td",[t._v("remove-v-on-native")]),t._v(" "),e("td",[t._v("https://v3.vuejs.org/guide/migration/v-on-native-modifier-removed.html#overview")])]),t._v(" "),e("tr",[e("td",[t._v("router-link-event-tag")]),t._v(" "),e("td",[t._v("https://next.router.vuejs.org/guide/migration/index.html#removal-of-event-and-tag-props-in-router-link")])]),t._v(" "),e("tr",[e("td",[t._v("router-link-exact")]),t._v(" "),e("td",[t._v("https://next.router.vuejs.org/guide/migration/index.html#removal-of-the-exact-prop-in-router-link")])]),t._v(" "),e("tr",[e("td",[t._v("router-view-keep-alive-transition")]),t._v(" "),e("td",[t._v("https://next.router.vuejs.org/guide/migration/index.html#router-view-keep-alive-and-transition")])])])])])}),[],!1,null,null,null);e.default=v.exports}}]);